# This is a complete configuration to deploy Loki backed by a s3-compatible API
# like MinIO for storage.
# Index files will be written locally at /loki/index and, eventually, will be shipped to the storage via tsdb-shipper.
# values.yaml - Simplified monolithic Loki deployment
loki:
  auth_enabled: false

  pattern_ingester:
    enabled: false

  # Configure storage without the complex nested structure
  storage:
    type: s3
    bucketNames:
      chunks: loki-chunks
      ruler: loki-ruler
      admin: loki-admin

  # Server configuration
  server:
    http_listen_port: 3100
    grpc_listen_port: 9095
    log_level: info
    http_server_read_timeout: 300s
    http_server_write_timeout: 300s
    http_server_idle_timeout: 120s
    websocket_enabled: true

  # Schema configuration
  schemaConfig:
    configs:
      - from: 2023-01-01
        store: boltdb-shipper
        object_store:
          type: s3
          bucketnames: loki-chunks
          endpoint: s3api.wakkalabs.com
          region: default
          access_key_id: QwTzRMtF06jMjMdj#1Si
          secret_access_key: K7GRq4md3VJfiU6WPBVxJ6fLXPsnJL4RTz4quQqK7GRq4md
