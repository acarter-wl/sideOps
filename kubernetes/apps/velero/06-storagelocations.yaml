---
# Primary backup storage location (S3-compatible Rook-Ceph)
apiVersion: velero.io/v1
kind: BackupStorageLocation
metadata:
  name: default
  namespace: velero
spec:
  provider: aws
  objectStorage:
    bucket: backups
  config:
    region: us-east-1
    s3ForcePathStyle: "true"
    s3Url: https://s3api.wakkalabs.com
  accessMode: ReadWrite
  default: true
---
apiVersion: velero.io/v1
kind: BackupStorageLocation
metadata:
  name: truenas-daily
  namespace: velero
spec:
  provider: aws
  objectStorage:
    bucket: backups-daily
  config:
    region: us-east-1
    s3ForcePathStyle: "true"
    s3Url: https://s3api.wakkalabs.com
  accessMode: ReadWrite
---
apiVersion: velero.io/v1
kind: BackupStorageLocation
metadata:
  name: truenas-weekly
  namespace: velero
spec:
  provider: aws
  objectStorage:
    bucket: backups-weekly
  config:
    region: us-east-1
    s3ForcePathStyle: "true"
    s3Url: https://s3api.wakkalabs.com
  accessMode: ReadWrite
---
apiVersion: velero.io/v1
kind: BackupStorageLocation
metadata:
  name: truenas-monthly
  namespace: velero
spec:
  provider: aws
  objectStorage:
    bucket: backups-monthly
  config:
    region: us-east-1
    s3ForcePathStyle: "true"
    s3Url: https://s3api.wakkalabs.com
  accessMode: ReadWrite

# apiVersion: velero.io/v1
# kind: BackupStorageLocation
# metadata:
#   name: nfs-backup
#   namespace: velero
# spec:
#   provider: replicated.com/nfs
#   objectStorage:
#     bucket: velero-nfs
#   config:
#     path: /backups
#     server: 192.168.100.94
#     resticRepoPrefix: /var/velero-local-volume-provider/velero-nfs
#   accessMode: ReadWrite
#   default: false
