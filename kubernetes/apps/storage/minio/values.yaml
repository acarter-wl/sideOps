
mode: standalone
existingSecret: "minio-credentials"

# Storage Configuration
persistence:
  enabled: true
  size: 100Gi
  storageClass: "ceph-block"
  accessMode: ReadWriteOnce

# Deployment Strategy for RWO volumes
deploymentStrategy:
  type: Recreate

# Resource allocation
resources:
  requests:
    memory: 1Gi
    cpu: 250m
  limits:
    memory: 2Gi
    cpu: 500m

# Images and versions
image:
  repository: minio/minio


mcImage:
  repository: minio/mc


# Ingress Configuration for MinIO API
ingress:
  enabled: false


# Console Configuration with separate Ingress
consoleIngress:
  enabled: false


# Service configuration
service:
  type: ClusterIP
  port: 9000
  annotations:
    prometheus.io/scrape: 'true'
    prometheus.io/path: '/minio/v2/metrics/cluster'
    prometheus.io/port: '9000'

# Create Loki buckets after MinIO install
defaultBucket:
  enabled: true
  name: loki-chunks
  policy: none
  purge: false

# Additional buckets
buckets:
  - name: loki-ruler
    policy: none
    purge: false
  - name: loki-admin
    policy: none
    purge: false

# MinIO configuration
minioConfig:
  region: "us-east-1"
  browser: "on"
  compression:
    enable: true
    extensions: [".txt", ".log", ".csv", ".json"]
    mime-types: ["text/plain", "text/csv", "application/json"]

# Health checks
readinessProbe:
  initialDelaySeconds: 30
  periodSeconds: 5

livenessProbe:
  initialDelaySeconds: 120
  periodSeconds: 10
