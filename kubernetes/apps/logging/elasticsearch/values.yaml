clusterName: "elasticsearch"
nodeGroup: "master"

roles:
  - master
  - ingest
  - data
  - remote_cluster_client
  - ml

replicas: 1
minimumMasterNodes: 1

protocol: https
httpPort: 9200
imagePullPolicy: "IfNotPresent"

esConfig:
  elasticsearch.yml: |
    xpack.security.enabled: true
    xpack.security.transport.ssl.enabled: true
    xpack.security.transport.ssl.verification_mode: certificate
    xpack.security.transport.ssl.supported_protocols: TLSv1.2
    xpack.security.transport.ssl.key: /usr/share/elasticsearch/config/certs/tls.key
    xpack.security.transport.ssl.certificate: /usr/share/elasticsearch/config/certs/tls.crt
    xpack.security.transport.ssl.certificate_authorities: ["/usr/share/elasticsearch/config/certs/ca.crt"]

    xpack.security.http.ssl.enabled: true
    xpack.security.http.ssl.supported_protocols: TLSv1.2
    xpack.security.http.ssl.key: /usr/share/elasticsearch/config/certs/tls.key
    xpack.security.http.ssl.certificate: /usr/share/elasticsearch/config/certs/tls.crt
    xpack.security.http.ssl.certificate_authorities: ["/usr/share/elasticsearch/config/certs/ca.crt"]

resources:
  requests:
    cpu: "250m"
    memory: "2Gi"
  limits:
    cpu: "1000m"
    memory: "4Gi"

volumeClaimTemplate:
  accessModes: [ "ReadWriteOnce" ]
  storageClassName: "mayastor-ha"
  resources:
    requests:
      storage: 64Gi

service:
  enabled: true
  type: ClusterIP
  labels: {}
  labelsHeadless: {}
  annotations:
    io.cilium/lb-ipam-ips: "192.168.101.2"
  httpPortName: https
  transportPortName: transport
  externalTrafficPolicy: ""

clusterHealthCheckParams: "wait_for_status=yellow&timeout=2s"
