---
creation_rules:
  - path_regex: talos/.*\.sops\.ya?ml
    mac_only_encrypted: true
    age: "age18ynkp4xzwas6la23fvs5zhxazvqf7p3qw4vv26a346e8340gegfqh9c87h"

  # Rule specifically for Kubernetes Helm values AND K8s Manifest SOPS files
  - path_regex: kubernetes/.*\.sops\.ya?ml
    # This regex now targets 'data'/'stringData' OR the specific Argo CD keys
    encrypted_regex: '^(data|stringData|argocdServerAdminPassword|webhook\.github\.secret|dex\.authentik\.clientSecret|githubSecret)$'
    age: "age18ynkp4xzwas6la23fvs5zhxazvqf7p3qw4vv26a346e8340gegfqh9c87h"

stores:
  yaml:
    indent: 2
